{"version":3,"file":"static/js/611.181dfd76.chunk.js","mappings":"oWAmGA,EAvEkB,SAACA,GACjB,IAAAC,GAA6BC,EAAAA,EAAAA,GAAQC,GAA7BC,EAAKH,EAALG,MAAOC,EAASJ,EAATI,UAETC,GAAUC,EAAAA,EAAAA,UACVC,GAAYD,EAAAA,EAAAA,UAgBlB,OAdAE,EAAAA,EAAAA,IAAS,WACP,GAAKH,EAAQI,QAAb,CAEA,IAAMC,GAAuBC,EAAAA,EAAAA,IAA2BC,EAAAA,EAAAA,YAClDC,GAAUC,EAAAA,EAAAA,IAA+BF,EAAAA,EAAAA,YAE/CP,EAAQI,QAAQM,KAAOL,GACnBM,EAAAA,EAAAA,KAAuBH,EAAU,GAAK,IAAM,IAAMA,EAAQI,QAAQ,GAAI,GACtE,GAECV,EAAUE,UACfF,EAAUE,QAAQS,QAAUR,EAVA,CAW9B,KAGES,EAAAA,EAAAA,MAAA,SAAAC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAWrB,GAAK,IAAEsB,QAAS,KAAKC,SAAA,EAC9BH,EAAAA,EAAAA,MAAA,SACEI,SAAU,CAAC,EAAG,MAAO,GACrBC,SAAU,CAAC,GAAIC,KAAKC,GAAK,EAAG,GAC5BC,MAAO,CAAC,GAAI,GAAI,IAAIL,SAAA,EAEpBM,EAAAA,EAAAA,KAAA,QACEC,SAAU1B,EAAM2B,OAAOD,SACvBE,SAAU3B,EAAU,mBAEtBwB,EAAAA,EAAAA,KAAA,QACEC,SAAU1B,EAAM6B,OAAOH,SACvBE,SAAU3B,EAAU,mBAEtBwB,EAAAA,EAAAA,KAAA,QAAMC,SAAU1B,EAAM8B,OAAOJ,SAAUE,SAAU3B,EAAU8B,WAG7Df,EAAAA,EAAAA,MAAA,SAAOQ,MAAO,CAAC,IAAM,EAAG,GAAIJ,SAAU,EAAE,EAAG,GAAI,IAAID,SAAA,EACjDM,EAAAA,EAAAA,KAACO,EAAAA,EAAI,CAACC,IAAK/B,EAASgC,SAAU,GAAIC,MAAM,MAAMC,KAAMC,EAASlB,SAC1D,OAGHM,EAAAA,EAAAA,KAACO,EAAAA,EAAI,CACHC,IAAK7B,EACL8B,SAAU,GACVC,MAAM,MACNf,SAAU,CAAC,IAAK,EAAG,GACnBgB,KAAMC,EAASlB,SAChB,UAKHM,EAAAA,EAAAA,KAACa,EAAAA,GAAsB,CACrBC,SAAS,aACTJ,MAAM,UACNd,SAAU,CAAC,EAAGC,KAAKC,GAAI,GACvBH,SAAU,CAAC,GAAI,GAAI,OAGrBK,EAAAA,EAAAA,KAACa,EAAAA,GAAsB,CACrBC,SAAS,aACTJ,MAAM,UACNd,SAAU,CAAC,EAAGC,KAAKC,GAAI,GACvBH,SAAU,EAAE,GAAI,GAAI,SAI5B,C","sources":["models/Voltmeter/Voltmeter.tsx"],"sourcesContent":["import * as THREE from 'three'\nimport { store } from 'src/store'\nimport { GLTF } from 'three-stdlib'\nimport React, { useRef } from 'react'\nimport { useFrame } from '@react-three/fiber'\nimport { addInsignificantZeros } from '@utils'\nimport VoltmeterModelPath from './voltmeter.glb'\nimport { Text, useGLTF } from '@react-three/drei'\nimport { TerminalConnectingZone } from '@components'\nimport FiraCode from 'src/assets/fonts/firacode_light.woff'\nimport {\n  selectIsVoltmeterConnected,\n  selectModelingOperatingVoltage,\n} from '@selectors'\n\ntype GLTFResult = GLTF & {\n  nodes: {\n    Cube_1: THREE.Mesh\n    Cube_2: THREE.Mesh\n    Cube_3: THREE.Mesh\n  }\n  materials: {\n    ['Material.001']: THREE.MeshStandardMaterial\n    ['Material.002']: THREE.MeshStandardMaterial\n    blue: THREE.MeshStandardMaterial\n  }\n}\n\nconst Voltmeter = (props: JSX.IntrinsicElements['group']) => {\n  const { nodes, materials } = useGLTF(VoltmeterModelPath) as GLTFResult\n\n  const textRef = useRef<Text & { text: string }>()\n  const textSIRef = useRef<THREE.Mesh>()\n\n  useFrame(() => {\n    if (!textRef.current) return\n\n    const isVoltmeterConnected = selectIsVoltmeterConnected(store.getState())\n    const voltage = selectModelingOperatingVoltage(store.getState())\n\n    textRef.current.text = isVoltmeterConnected\n      ? addInsignificantZeros((voltage < 10 ? ' ' : '') + voltage.toFixed(2), 1)\n      : ''\n\n    if (!textSIRef.current) return\n    textSIRef.current.visible = isVoltmeterConnected\n  })\n\n  return (\n    <group {...props} dispose={null}>\n      <group\n        position={[0, 24.49, 0]}\n        rotation={[0, -Math.PI / 2, 0]}\n        scale={[20, 25, 50]}\n      >\n        <mesh\n          geometry={nodes.Cube_1.geometry}\n          material={materials['Material.001']}\n        />\n        <mesh\n          geometry={nodes.Cube_2.geometry}\n          material={materials['Material.002']}\n        />\n        <mesh geometry={nodes.Cube_3.geometry} material={materials.blue} />\n      </group>\n\n      <group scale={[0.65, 1, 1]} position={[-7, 24, 18]}>\n        <Text ref={textRef} fontSize={32} color='red' font={FiraCode}>\n          {' '}\n        </Text>\n\n        <Text\n          ref={textSIRef}\n          fontSize={24}\n          color='red'\n          position={[56, -3, 0]}\n          font={FiraCode}\n        >\n          V\n        </Text>\n      </group>\n\n      <TerminalConnectingZone\n        terminal='Voltmeter+'\n        color='#832D2E'\n        rotation={[0, Math.PI, 0]}\n        position={[34, 8, -35]}\n      />\n\n      <TerminalConnectingZone\n        terminal='Voltmeter-'\n        color='#4C4C8A'\n        rotation={[0, Math.PI, 0]}\n        position={[-34, 8, -35]}\n      />\n    </group>\n  )\n}\n\nexport default Voltmeter\n"],"names":["props","_ref","useGLTF","VoltmeterModelPath","nodes","materials","textRef","useRef","textSIRef","useFrame","current","isVoltmeterConnected","selectIsVoltmeterConnected","store","voltage","selectModelingOperatingVoltage","text","addInsignificantZeros","toFixed","visible","_jsxs","_objectSpread","dispose","children","position","rotation","Math","PI","scale","_jsx","geometry","Cube_1","material","Cube_2","Cube_3","blue","Text","ref","fontSize","color","font","FiraCode","TerminalConnectingZone","terminal"],"sourceRoot":""}